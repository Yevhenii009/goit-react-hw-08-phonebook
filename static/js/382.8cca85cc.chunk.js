"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[382],{8382:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var a=n(2791),r=n(6916),o=function(e){return e.contacts.items},c=function(e){return e.contacts.isLoading},s=function(e){return e.contacts.error},l=function(e){return e.filter},i=(0,r.P1)([l,o],(function(e,t){return function(){var n=e.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(n)}))}().sort((function(e,t){return e.name.localeCompare(t.name)}))})),u=n(9434),m=n(2561),d=n(5705),h=n(6727),f=n(9894),x=n(643),j=n(1686),b={form:"ContactForm_form__dhl+T",label:"ContactForm_label__-cVXI",button:"ContactForm_button__eSwX9",error:"ContactForm_error__C1smZ"},p=n(184),v=function(){var e=(0,u.v9)(o),t=(0,u.v9)(c),n=(0,u.v9)(s),a=(0,u.I0)(),r=(0,h.Ry)({name:(0,h.Z_)().required(),number:(0,h.Rx)().required().positive().integer()});return(0,p.jsxs)("div",{className:b.formWrapper,children:[(0,p.jsx)("h2",{className:b.formTitle,children:"PhoneBook"}),(0,p.jsx)(d.J9,{initialValues:{name:"",number:""},onSubmit:function(t,n){var r=n.resetForm,o=t.name.toLowerCase();e.find((function(e){return e.name.toLowerCase()===o}))?j.Notify.warning("".concat(t.name," is already in contacts.")):(a((0,m.uK)({name:t.name,number:t.number})),r())},validationSchema:r,children:(0,p.jsxs)(d.l0,{className:b.form,autoComplete:"off",children:[(0,p.jsxs)("div",{className:b.formInputGroup,children:[(0,p.jsx)(d.gN,{className:b.formInput,name:"name",placeholder:"name"}),(0,p.jsx)(d.Bc,{className:b.error,component:"div",name:"name"})]}),(0,p.jsxs)("div",{className:b.formInputGroup,children:[(0,p.jsx)(d.gN,{className:b.formInput,name:"number",placeholder:"number"}),(0,p.jsx)(d.Bc,{className:b.error,component:"div",name:"number"})]}),(0,p.jsx)(f.z,{type:"submit",children:t&&!n?(0,p.jsx)(x.g4,{height:"25",width:"116",color:"#af7b7b",ariaLabel:"three-dots-loading",visible:!0}):(0,p.jsx)(p.Fragment,{children:"Add contact"})})]})})]})},_=n(1473),N="Filter_filter__vxThR",C="Filter_formInput__XNLZn",g=function(){var e=(0,u.v9)(l),t=(0,u.v9)(i).length,n=(0,u.v9)(o).length,a=(0,u.I0)();return(0,p.jsx)("div",{className:N,children:(0,p.jsxs)("label",{children:["Find contacts by name",t!==n&&(0,p.jsxs)(p.Fragment,{children:[":\xa0",(0,p.jsx)("b",{children:t})]}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{autoComplete:"off",className:C,value:e,type:"text",name:"filter",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(e){return a((0,_.M)(e.currentTarget.value))}})]})})},w=n(9439),y={contactListItem:"Contact_contactListItem__++ahj",button:"Contact_button__F+kJb"},L=function(e){var t=e.contact,n=e.showModal,a=e.showEditModal,r="tel:".concat(t.number);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("td",{children:t.name}),(0,p.jsx)("td",{children:(0,p.jsx)("a",{href:r,children:t.number})}),(0,p.jsx)("td",{onClick:function(){return n(t.id,t.name)},className:y.deleteButton,id:t.id,children:"Delete"}),(0,p.jsx)("td",{onClick:function(){return a(t.id,t.name,t.number)},className:y.deleteButton,id:t.id,children:"Edit"})]})},k="Modal_overlay__r63M6",F="Modal_modal__DJDMv",I=function(e){var t=e.children,n=e.modalShoudClose;(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return(0,p.jsx)("div",{className:k,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,p.jsx)("div",{className:F,children:t})})},E={contactListTable:"ContactList_contactListTable__CAdj6",button:"ContactList_button__7kL4l"},S="",M={},T=function(){var e=(0,a.useState)(!1),t=(0,w.Z)(e,2),n=t[0],r=t[1],o=(0,a.useState)(!1),c=(0,w.Z)(o,2),s=c[0],l=c[1],d=(0,a.useState)(""),h=(0,w.Z)(d,2),x=h[0],j=h[1],b=(0,u.I0)(),v=function(e,t){S=t,r(!0),j(e)},_=function(e,t,n){M={contactId:e,contactName:t,contactNumber:n},l(!0)},N=function(){r(!1),l(!1)},C=(0,u.v9)(i);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("table",{className:E.contactListTable,children:(0,p.jsx)("tbody",{children:C.map((function(e){return(0,p.jsx)("tr",{className:E.contactListItem,children:(0,p.jsx)(L,{contact:e,showModal:v,showEditModal:_})},e.id)}))})}),n&&(0,p.jsx)(I,{modalShoudClose:N,children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("p",{className:E.title,children:["Do you really want to remove",(0,p.jsx)("br",{}),S,"?"]}),(0,p.jsx)(f.z,{type:"button",onClick:function(){b((0,m.GK)(x)),N()},children:"YES"}),(0,p.jsx)(f.z,{type:"button",onClick:N,children:"NO"})]})}),s&&(0,p.jsx)(I,{modalShoudClose:N,children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("b",{children:"Edit contact"}),(0,p.jsxs)("form",{className:E.form,onSubmit:function(e){e.preventDefault();var t=e.target.elements;b((0,m.mP)({name:t.name.value,number:t.number.value,contactId:M.contactId})),t.name.value="",t.number.value="",l(!1)},autoComplete:"off",children:[(0,p.jsxs)("label",{className:E.label,children:["Name",(0,p.jsx)("input",{type:"text",name:"name",className:E.inputText,defaultValue:M.contactName})]}),(0,p.jsxs)("label",{className:E.label,children:["Number",(0,p.jsx)("input",{type:"text",name:"number",className:E.inputText,defaultValue:M.contactNumber})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(f.z,{type:"submit",children:"save"}),(0,p.jsx)(f.z,{type:"button",onClick:N,children:"Cancel"})]})]})]})})]})},z="Contacts_wrapper__s7EJR",Z="Contacts_title__LxdN4";function A(){var e=(0,u.I0)(),t=(0,u.v9)(o);return(0,a.useEffect)((function(){e((0,m.yF)())}),[e]),(0,p.jsxs)("div",{className:z,children:[(0,p.jsx)(v,{}),(0,p.jsxs)("h3",{className:Z,children:["Contacts: ",t.length]}),(0,p.jsx)(g,{}),(0,p.jsx)(T,{})]})}}}]);
//# sourceMappingURL=382.8cca85cc.chunk.js.map